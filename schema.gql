# -----------------------------------------------
# !!! THIS FILE WAS GENERATED BY TYPE-GRAPHQL !!!
# !!!   DO NOT MODIFY THIS FILE BY YOURSELF   !!!
# -----------------------------------------------

type AuthResult {
  user: User
  error: String
}

type Course {
  id: Float!
  code: String!
  name: String!
  credits: [Credit!]!
  mention: String!
  flow: [Course!]!
  requisites: [Course!]!
  historicalDistribution: [DistributionValue!]!
}

type Credit {
  label: String!
  value: Int!
}

type Curriculum {
  id: Int!
  semesters: [Semester!]!
}

"""
The javascript `Date` as string. Type represents date and time as the ISO Date string.
"""
scalar DateTime

type DistributionValue {
  min: Int!
  max: Int!
  value: Int!
}

type Dropout {
  prob_dropout: Float!
  model_accuracy: Float!
  active: Boolean!
}

"""
A field whose value conforms to the standard internet email address format as
specified in RFC822: https://www.w3.org/Protocols/rfc822/.
"""
scalar EmailAddress

"""
The `JSONObject` scalar type represents JSON objects as specified by [ECMA-404](http://www.ecma-international.org/publications/files/ECMA-ST/ECMA-404.pdf).
"""
scalar JSONObject

type LockedUserResult {
  mailResult: JSONObject!
  users: [User!]!
}

type MultipleLockedUserResult {
  mailResults: [JSONObject!]!
  users: [User!]!
}

type Mutation {
  login(email: EmailAddress!, password: String!): AuthResult!
  logout: Boolean!
  unlock(email: EmailAddress!, password: String!, unlockKey: String!): AuthResult!
  track(datetime_client: DateTime!, data: String!): Boolean!
  updateUserPrograms(userPrograms: UpdateUserPrograms!): [User!]!
  addUsersPrograms(user_programs: [UserProgram!]!): [User!]!
  upsertUsers(users: [UpsertedUser!]!): [User!]!
  lockMailUser(email: EmailAddress!): LockedUserResult!
  mailAllLockedUsers: [JSONObject!]!
  deleteUser(email: EmailAddress!): [User!]!
}

type Program {
  id: Int!
  name: String!
  desc: String!
  state: String!
  curriculums: [Curriculum!]!
}

type Query {
  currentUser: User
  program(id: Int!): Program
  programs: [Program!]!
  myPrograms: [Program!]!
  student(program_id: Int, student_id: String!): Student
  users: [User!]!
}

type Semester {
  id: Int!
  courses: [Course!]!
}

"""Possible states of a taken course"""
enum StateCourse {
  Passed
  Failed
  Current
  Canceled
  Pending
}

type Student {
  id: ID!
  program: Program!
  curriculum: Int!
  start_year: Int!
  mention: String!
  terms: [Term!]!
  dropout: Dropout
}

type TakenCourse {
  id: Int!
  code: String!
  name: String!
  registration: String!
  grade: Float!
  state: StateCourse!
  parallelGroup: Int!
  currentDistribution: [DistributionValue!]!
}

type Term {
  id: Int!
  student_id: String!
  year: Int!
  term: TermType!
  situation: String!
  PSP: Float!
  PGA: Float!
  ProgramPGA: Float!
  takenCourses: [TakenCourse!]!
}

"""Possible states of a term, first semester, second semester or anual"""
enum TermType {
  First
  Second
  Anual
}

type Track {
  id: Float!
  app_id: String!
  user_id: String!
  datetime: DateTime!
  datetime_client: DateTime!
  data: String!
}

input UpdateUserPrograms {
  email: EmailAddress!
  oldPrograms: [Int!]!
  programs: [Int!]!
}

input UpsertedUser {
  oldEmail: EmailAddress
  email: EmailAddress!
  name: String = "default_name"
  type: UserType = Student
  tries: Float = 0
  rut_id: String = ""
  show_dropout: Boolean = false
  locked: Boolean = true
}

type User {
  email: EmailAddress!
  name: String!
  admin: Boolean!
  type: UserType!
  rut_id: String!
  show_dropout: Boolean!
  locked: Boolean!
  tries: Float!
  unlockKey: String!
  programs: [Program!]!
}

input UserProgram {
  email: EmailAddress!
  program: Int!
}

"""Possible options of an user type"""
enum UserType {
  Director
  Student
}
